<div class="report-widget">
    <h3><?= e($this->property('title')) ?></h3>

    <?php if (!isset($error)): ?>
        <?php
            if (sizeof($rows) == 0 )
                echo e(trans('tiipiik.smssender::lang.widget.nosend'));
            else {
                echo '
    <div class="container">
        <div class="row">
            <div class="col-xs-2">'.e(trans('tiipiik.smssender::lang.widget.from')).'</div>
            <div class="col-xs-2">'.e(trans('tiipiik.smssender::lang.widget.to')).'</div>
            <div class="col-xs-5">'.e(trans('tiipiik.smssender::lang.widget.message')).'</div>
            <div class="col-xs-3">'.e(trans('tiipiik.smssender::lang.widget.status')).'</div>
        </div>';
            foreach ($rows as $row) {
                $cssStatus = ($row['short_status'] == 1 ? 'success' : 'danger');
                echo '
            <div class="row">
                <div class="col-xs-2">'.$row['from'].'</div>
                <div class="col-xs-2">'.$row['to'].'</div>
                <div class="col-xs-5">'.$row['message'].'</div>
                <div class="col-xs-3"><span class="text-'.$cssStatus.'">';
                if ($row['short_status'] == 1)
                    echo e(trans('tiipiik.smssender::lang.widget.sent'));
                else if ($row['short_status'] == 2)
                    echo e(trans('tiipiik.smssender::lang.widget.failed'));
                else if ($row['short_status'] == 3)
                    echo e(trans('tiipiik.smssender::lang.widget.gateway_fail'));
                echo '</span></div>
            </div>';
                }
                echo '
    </div>';
            }
    ?>
    <?php else: ?>
        <p class="flash-message static warning"><?= e($error) ?></p>
    <?php endif ?>

</div>